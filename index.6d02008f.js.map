{"mappings":"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","sources":["../../.config/yarn/global/node_modules/@parcel/scope-hoisting/lib/helpers.js","./node_modules/g-sheets-api/build/index.js","./node_modules/g-sheets-api/build/gsheetsprocessor.js","./node_modules/g-sheets-api/build/gsheetsapi.js","./node_modules/node-fetch/browser.js","./src/data-loader.js"],"sourcesContent":["var $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$export(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _gsheetsprocessor = _interopRequireDefault(require(\"./gsheetsprocessor.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar reader = function reader(options, callback, onError) {\n  return (0, _gsheetsprocessor.default)(options, function (results) {\n    callback(results);\n  }, function (error) {\n    if (onError) {\n      onError(error);\n    } else {\n      throw new Error(\"g-sheets-api error: \".concat(error));\n    }\n  });\n};\n\nmodule.exports = reader;\nvar _default = reader;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _gsheetsapi = _interopRequireDefault(require(\"./gsheetsapi.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction matchValues(valToMatch, valToMatchAgainst, matchingType) {\n  try {\n    if (typeof valToMatch != 'undefined') {\n      valToMatch = valToMatch.toLowerCase().trim();\n      valToMatchAgainst = valToMatchAgainst.toLowerCase().trim();\n\n      if (matchingType === 'strict') {\n        return valToMatch === valToMatchAgainst;\n      }\n\n      if (matchingType === 'loose') {\n        return valToMatch.includes(valToMatchAgainst) || valToMatch == valToMatchAgainst;\n      }\n    }\n  } catch (e) {\n    console.log(\"error in matchValues: \".concat(e.message));\n    return false;\n  }\n\n  return false;\n}\n\nfunction filterResults(resultsToFilter, filter, options) {\n  var filteredData = []; // now we have a list of rows, we can filter by various things\n\n  return resultsToFilter.filter(function (item) {\n    // item data shape\n    // item = {\n    //   'Module Name': 'name of module',\n    //   ...\n    //   Department: 'Computer science'\n    // }\n    var addRow = null;\n    var filterMatches = [];\n\n    if (typeof item === 'undefined' || item.length <= 0 || Object.keys(item).length <= 0) {\n      return false;\n    }\n\n    Object.keys(filter).forEach(function (key) {\n      var filterValue = filter[key]; // e.g. 'archaeology'\n      // need to find a matching item object key in case of case differences\n\n      var itemKey = Object.keys(item).find(function (thisKey) {\n        return thisKey.toLowerCase().trim() === key.toLowerCase().trim();\n      });\n      var itemValue = item[itemKey]; // e.g. 'department' or 'undefined'\n\n      filterMatches.push(matchValues(itemValue, filterValue, options.matching || 'loose'));\n    });\n\n    if (options.operator === 'or') {\n      addRow = filterMatches.some(function (match) {\n        return match === true;\n      });\n    }\n\n    if (options.operator === 'and') {\n      addRow = filterMatches.every(function (match) {\n        return match === true;\n      });\n    }\n\n    return addRow;\n  });\n}\n\nfunction processGSheetResults(JSONResponse, returnAllResults, filter, filterOptions) {\n  var data = JSONResponse.feed.entry;\n  var startRow = 2; // skip the header row(1), don't need it\n\n  var processedResults = [{}];\n  var colNames = {};\n\n  var _iterator = _createForOfIteratorHelper(data),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      var cell = item['gs$cell']; // gets cell data\n\n      var val = cell['$t']; // gets cell value\n\n      var columnNum = cell['col']; // gets the col number\n\n      var thisRow = cell['row']; // gets the row number\n\n      var colNameToAdd = colNames[columnNum]; // careful, this will be undefined if we hit it on the first pass\n      // don't add this row to the return data, but add it to list of column names\n\n      if (thisRow < startRow) {\n        colNames[columnNum] = val;\n        continue; // skip the header row\n      }\n\n      if (typeof processedResults[thisRow] === 'undefined') {\n        processedResults[thisRow] = {};\n      }\n\n      if (typeof colNameToAdd !== 'undefined' && colNameToAdd.length > 0) {\n        processedResults[thisRow][colNameToAdd] = val;\n      }\n    } // make sure we're only returning valid, filled data items\n\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  processedResults = processedResults.filter(function (result) {\n    return Object.keys(result).length;\n  }); // if we're not filtering, then return all results\n\n  if (returnAllResults || !filter) {\n    return processedResults;\n  }\n\n  return filterResults(processedResults, filter, filterOptions);\n}\n\nvar gsheetProcessor = function gsheetProcessor(options, callback, onError) {\n  return (0, _gsheetsapi.default)(options.sheetId, options.sheetNumber ? options.sheetNumber : 1).then(function (result) {\n    var filteredResults = processGSheetResults(result, options.returnAllResults || false, options.filter || false, options.filterOptions || {\n      operator: 'or',\n      matching: 'loose'\n    });\n    callback(filteredResults);\n  }).catch(function (err) {\n    return onError(err.message);\n  });\n};\n\nvar _default = gsheetProcessor;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar gsheetsAPI = function gsheetsAPI(sheetId) {\n  var sheetNumber = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n  var errorObj = {\n    hasError: true\n  };\n  var fetchFunc;\n\n  try {\n    fetchFunc = window.fetch;\n  } catch (err) {\n    fetchFunc = _nodeFetch.default;\n  }\n\n  try {\n    var sheetsUrl = \"https://spreadsheets.google.com/feeds/cells/\".concat(sheetId, \"/\").concat(sheetNumber, \"/public/values?alt=json-in-script\");\n    return fetchFunc(sheetsUrl).then(function (response) {\n      if (!response.ok) {\n        console.log('there is an error in the gsheets response');\n        throw new Error('Error fetching GSheet');\n      }\n\n      return response.text();\n    }).then(function (resultText) {\n      var formattedText = resultText.replace('gdata.io.handleScriptLoaded(', '').slice(0, -2);\n      return JSON.parse(formattedText);\n    }).catch(function (err) {\n      throw new Error('Failed to fetch from GSheets API. Check your Sheet Id and the public availability of your GSheet.');\n    });\n  } catch (err) {\n    throw new Error(\"General error when fetching GSheet: \".concat(err));\n  }\n};\n\nvar _default = gsheetsAPI;\nexports.default = _default;","\"use strict\";\n\n// ref: https://github.com/tc39/proposal-global\nvar getGlobal = function () {\n\t// the only reliable means to get the global object is\n\t// `Function('return this')()`\n\t// However, this causes CSP violations in Chrome apps.\n\tif (typeof self !== 'undefined') { return self; }\n\tif (typeof window !== 'undefined') { return window; }\n\tif (typeof global !== 'undefined') { return global; }\n\tthrow new Error('unable to locate global object');\n}\n\nvar global = getGlobal();\n\nmodule.exports = exports = global.fetch;\n\n// Needed for TypeScript and Webpack.\nif (global.fetch) {\n\texports.default = global.fetch.bind(global);\n}\n\nexports.Headers = global.Headers;\nexports.Request = global.Request;\nexports.Response = global.Response;","import GSheetReader from \"g-sheets-api\";\n\nconst options = {\n  sheetId: \"1bxF803aLT-Vsk2nyKi4mbhWl9GbMtSme9aATDVCiP_s\",\n  sheetNumber: 3,\n  returnAllResults: true\n};\n\nGSheetReader(options, (results) => {\n  document.getElementById(\"total\").innerHTML += results[14].number;\n  document.getElementById(\"agresion\").innerHTML = results[0].number;\n  document.getElementById(\"informacion\").innerHTML = results[1].number;\n  document.getElementById(\"redes\").innerHTML = results[2].number;\n  document.getElementById(\"amenaza\").innerHTML = results[3].number;\n  document.getElementById(\"detencion\").innerHTML = results[6].number;\n  document.getElementById(\"hostigamiento\").innerHTML = results[10].number;\n  document.getElementById(\"robo\").innerHTML = results[12].number;\n  document.getElementById(\"obstruccion\").innerHTML = results[11].number;\n});\n"],"names":["$parcel$interopDefault","a","__esModule","default","Object","defineProperty","value","$3fb6ba1389e8335af3a503a1fd4296ae$var$global","self","window","Error","$3fb6ba1389e8335af3a503a1fd4296ae$var$getGlobal","fetch","bind","Headers","Request","Response","obj","$e32fde860136c4f842ef07edd282b342$var$_nodeFetch","$e32fde860136c4f842ef07edd282b342$var$_interopRequireDefault","sheetId","fetchFunc","sheetNumber","arguments","length","undefined","err","sheetsUrl","concat","then","response","ok","console","log","text","resultText","formattedText","replace","slice","JSON","parse","catch","$da58e3cf66f27231382173ae4a756af0$var$_gsheetsapi","$da58e3cf66f27231382173ae4a756af0$var$_interopRequireDefault","$da58e3cf66f27231382173ae4a756af0$var$_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","minLen","$da58e3cf66f27231382173ae4a756af0$var$_arrayLikeToArray","n","prototype","toString","call","constructor","name","from","test","$da58e3cf66f27231382173ae4a756af0$var$_unsupportedIterableToArray","i","F","s","done","e","_e","f","TypeError","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","$da58e3cf66f27231382173ae4a756af0$var$filterResults","resultsToFilter","filter","options","item","addRow","filterMatches","keys","forEach","key","filterValue","itemKey","find","thisKey","toLowerCase","trim","itemValue","push","valToMatch","valToMatchAgainst","matchingType","includes","message","$da58e3cf66f27231382173ae4a756af0$var$matchValues","matching","operator","some","match","every","callback","onError","result","filteredResults","JSONResponse","returnAllResults","filterOptions","_step","processedResults","colNames","_iterator","feed","entry","cell","val","columnNum","thisRow","colNameToAdd","$da58e3cf66f27231382173ae4a756af0$var$processGSheetResults","$680513d3312a640dd658a23d665d76e8$var$_gsheetsprocessor","$680513d3312a640dd658a23d665d76e8$var$_interopRequireDefault","$680513d3312a640dd658a23d665d76e8$var$reader","results","error","$87cb5e7894de481df0f1ad8d2299991d$var$options","document","getElementById","innerHTML","number"],"version":3,"file":"index.6d02008f.js.map"}